<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Car Service</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">


    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@600;700&family=Ubuntu:wght@400;500&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">


    <link href="style.css" rel="stylesheet">

</head>

<body>

    <!-- Spinner End -->


    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg bg-white navbar-light shadow sticky-top p-0">
        <a href="index.html" class="navbar-brand d-flex align-items-center px-4 px-lg-5">
            <h2 class="m-0 text-primary">
                <img src="logo.jpg" alt="TheCarSpa" />
            </h2>
        </a>
        <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto p-4 p-lg-0">
                <a href="/" class="nav-item nav-link active">Home</a>
                <a href="about" class="nav-item nav-link">About</a>
                <a href="Login" class="nav-item nav-link" id="book">Booking</a>
                <a href="ClientTestimonials" class="nav-item nav-link">Testimonial</a>
            </div>
            <h5 class=" mr-20 px-lg-2 d-none d-lg-block"><a href="/Login" id="login-register"><i
                        class="fa fa-user"></i></a></h5>
            <h5 class=" mr-20 px-lg-2 " id="profile"><a href="profile.html" id="profile-name"></a></h5>
        </div>
    </nav>
    <!-- Navbar End -->


    <!-- Carousel Start -->
    <div class="container-fluid p-0 mb-5">
        <div id="header-carousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="w-100" src="carousel-bg-1.jpg" alt="Image">
                    <div class="carousel-caption d-flex align-items-center">
                        <div class="container">
                            <div class="row align-items-center justify-content-center justify-content-lg-start">
                                <div class="col-10 col-lg-7 text-center text-lg-start">

                                    <h1 class="display-3 text-white mb-4 pb-3 animated slideInDown">Qualified Car Repair
                                        Service Center</h1>

                                </div>
                                <div class="col-lg-5 d-none d-lg-flex animated zoomIn">
                                    <img class="img-fluid" src="carousel-1.png" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <img class="w-100" src="carousel-bg-2.jpg" alt="Image">
                    <div class="carousel-caption d-flex align-items-center">
                        <div class="container">
                            <div class="row align-items-center justify-content-center justify-content-lg-start">
                                <div class="col-10 col-lg-7 text-center text-lg-start">

                                    <h1 class="display-3 text-white mb-4 pb-3 animated slideInDown">Qualified Car Wash
                                        Service Center</h1>

                                </div>
                                <div class="col-lg-5 d-none d-lg-flex animated zoomIn">
                                    <img class="img-fluid" src="carousel-2.png" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#header-carousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#header-carousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
    <!-- Carousel End -->

    <!-- Service Start -->
    <div class="container-xxl service py-5">
        <div class="container">
            <div class="text-center wow fadeInUp" data-wow-delay="0.1s">

                <h1 class="mb-5">Explore Our Services</h1>
            </div>
            <div class="row g-4 wow fadeInUp" data-wow-delay="0.3s">
                <div class="col-lg-4">
                    <div class="nav w-100 nav-pills me-4" id="serviceButtons">

                    </div>
                </div>
                <div class="col-lg-8">
                    <div class="tab-content w-100" id="serviceTabs">

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Service End -->





    <!-- Fact Start -->
    <div class="container-fluid fact bg-dark my-5 py-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-6 col-lg-4 text-center wow fadeIn" data-wow-delay="0.1s">
                    <i class="fa fa-check fa-2x text-white mb-3"></i>
                    <h2 class="text-white mb-2" data-toggle="counter-up">5</h2>
                    <p class="text-white mb-0">Years Experience</p>
                </div>
                <div class="col-md-6 col-lg-4 text-center wow fadeIn" data-wow-delay="0.3s">
                    <i class="fa fa-users-cog fa-2x text-white mb-3"></i>
                    <div class="d-flex justify-content-center">
                        <h2 class="text-white mb-2" data-toggle="counter-up">100</h2>
                        <h2 class="text-white mb-2">+</h2>
                    </div>
                    <p class="text-white mb-0">Expert Technicians</p>
                </div>
                <div class="col-md-6 col-lg-4 text-center wow fadeIn" data-wow-delay="0.5s">
                    <i class="fa fa-users fa-2x text-white mb-3"></i>
                    <div class="d-flex justify-content-center">
                        <h2 class="text-white mb-2" data-toggle="counter-up">1000</h2>
                        <h2 class="text-white mb-2">+</h2>
                    </div>
                    <p class="text-white mb-0">Satisfied Clients</p>
                </div>
            </div>
        </div>
    </div>
    <!-- Fact End -->

    <!-- About Start -->
    <div class="container-xxl py-5">
        <div class="container">
            <div class="row g-5">
                <div class="col-lg-6 pt-4" style="min-height: 400px;">
                    <div class="position-relative h-100 wow fadeIn" data-wow-delay="0.1s">
                        <img class="position-absolute img-fluid w-100 h-100" src="about.jpg"
                            style="object-fit: cover;" alt="">

                    </div>
                </div>
                <div class="col-lg-6">
                    <h3 class="mb-4">Swift and Reliable: Your Premier Delivery Car Service</h3>
                    <p class="mb-4">Welcome to our company, where convenience meets efficiency. As your premier delivery
                        car service, we prioritize prompt and reliable delivery solutions tailored to your needs.
                        Whether it's packages, groceries, or any other items, our dedicated team ensures swift and
                        secure transportation.</p>
                    <div class="row g-4 mb-3 pb-3">
                        <div class="col-12 wow fadeIn" data-wow-delay="0.1s">
                            <div class="d-flex">
                                <div class="bg-light d-flex flex-shrink-0 align-items-center justify-content-center mt-1"
                                    style="width: 45px; height: 45px;">
                                    <span class="fw-bold text-secondary">01</span>
                                </div>
                                <div class="ps-3">
                                    <h6>Timely Deliveries</h6>
                                    <span>We understand the importance of time; our commitment is to deliver your goods
                                        promptly and efficiently.</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 wow fadeIn" data-wow-delay="0.3s">
                            <div class="d-flex">
                                <div class="bg-light d-flex flex-shrink-0 align-items-center justify-content-center mt-1"
                                    style="width: 45px; height: 45px;">
                                    <span class="fw-bold text-secondary">02</span>
                                </div>
                                <div class="ps-3">
                                    <h6>Secure Handling</h6>
                                    <span>Your items are in safe hands. Our experienced drivers and secure
                                        transportation methods guarantee the safety of your deliveries.</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 wow fadeIn" data-wow-delay="0.5s">
                            <div class="d-flex">
                                <div class="bg-light d-flex flex-shrink-0 align-items-center justify-content-center mt-1"
                                    style="width: 45px; height: 45px;">
                                    <span class="fw-bold text-secondary">03</span>
                                </div>
                                <div class="ps-3">
                                    <h6>Customer-Centric Approach</h6>
                                    <span>Your satisfaction is our priority. Experience a delivery service that puts
                                        your needs first.</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <a href="about.html" class="btn btn-primary py-3 px-5">Read More<i
                            class="fa fa-arrow-right ms-3"></i></a>

                </div>
            </div>
        </div>
    </div>
    <!-- About End -->

    <!-- Testimonial Start -->
    <div class="container-xxl py-5 wow fadeInUp" data-wow-delay="0.1s" id="testimonial">
        <div class="container">
            <div class="text-center">
                <h1 class="mb-5">Our Clients Say!</h1>
            </div>
            <div class="owl-carousel testimonial-carousel position-relative" id="testimonialContainer">
                <!-- <div class="testimonial-item text-center">
                    <img class="bg-light rounded-circle p-2 mx-auto mb-3" src="testimonial-1.jpg" style="width: 80px; height: 80px;">
                    <h5 class="mb-0">Client Name</h5>
                    <p>Profession</p>
                    <div class="testimonial-text bg-light text-center p-4">
                    <p class="mb-0">Tempor erat elitr rebum at clita. Diam dolor diam ipsum sit diam amet diam et eos. Clita erat ipsum et lorem et sit.</p>
                    </div>
                </div>
                <div class="testimonial-item text-center">
                    <img class="bg-light rounded-circle p-2 mx-auto mb-3" src="testimonial-2.jpg" style="width: 80px; height: 80px;">
                    <h5 class="mb-0">Client Name</h5>
                    <p>Profession</p>
                    <div class="testimonial-text bg-light text-center p-4">
                    <p class="mb-0">Tempor erat elitr rebum at clita. Diam dolor diam ipsum sit diam amet diam et eos. Clita erat ipsum et lorem et sit.</p>
                    </div>
                </div>
                <div class="testimonial-item text-center">
                    <img class="bg-light rounded-circle p-2 mx-auto mb-3" src="testimonial-3.jpg" style="width: 80px; height: 80px;">
                    <h5 class="mb-0">Client Name</h5>
                    <p>Profession</p>
                    <div class="testimonial-text bg-light text-center p-4">
                    <p class="mb-0">Tempor erat elitr rebum at clita. Diam dolor diam ipsum sit diam amet diam et eos. Clita erat ipsum et lorem et sit.</p>
                    </div>
                </div>
                <div class="testimonial-item text-center">
                    <img class="bg-light rounded-circle p-2 mx-auto mb-3" src="testimonial-4.jpg" style="width: 80px; height: 80px;">
                    <h5 class="mb-0">Client Name</h5>
                    <p>Profession</p>
                    <div class="testimonial-text bg-light text-center p-4">
                    <p class="mb-0">Tempor erat elitr rebum at clita. Diam dolor diam ipsum sit diam amet diam et eos. Clita erat ipsum et lorem et sit.</p>
                    </div>
                </div> -->
            </div>
        </div>
    </div>
    <!-- Testimonial End -->



    <!-- Booking Start -->
    <div class="container-fluid bg-secondary booking my-5 wow fadeInUp" id="book-service" data-wow-delay="0.1s">
        <div class="container">
            <div class="row gx-5">
                <div class="col-lg-6 py-5">
                    <div class="py-5">
                        <h1 class="text-white mb-4">Effortless Booking: Your Car's Next Service Awaits!</h1>
                        <p class="text-white mb-0">Ready to give your vehicle the care it deserves? With our
                            user-friendly 'Book for a Service' feature, scheduling your car service is a breeze. Simply
                            select your preferred service, choose a convenient time, and let us handle the rest. Enjoy a
                            hassle-free experience, personalized just for you. Your journey to optimal vehicle
                            performance starts with a click. Book now and let us ensure your car stays in top-notch
                            condition!</p>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="h-100 d-flex flex-column justify-content-center text-center  wow zoomIn"
                        data-wow-delay="0.6s">
                        <h1 class="text-white mb-4 bg-primary p-3"><a class="text-white" href="booking.html"> Book For A
                                Service <i class="fa fa-arrow-right ms-3"></i></a></h1>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid bg-secondary booking my-5 wow fadeInUp" id="login-service" data-wow-delay="0.1s">
        <div class="container">
            <div class="row gx-5">
                <div class="col-lg-6 py-5">
                    <div class="py-5">
                        <h1 class="text-white mb-4">Seamless Service Starts Here: Join Us to Book Your Car Care Today!
                        </h1>
                        <p class="text-white mb-0">Ready to elevate your car service experience? Join us today by
                            registering or logging in to unlock a streamlined booking process tailored just for you.
                            Your journey with us begins with personalized services and hassle-free reservations. Sign up
                            now to book the service your vehicle deserves, and let us take care of the rest!</p>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="h-100 d-flex flex-column justify-content-center text-center  wow zoomIn"
                        data-wow-delay="0.6s">
                        <h1 class="text-white mb-4 bg-primary p-3"><a class="text-white" href="login.html">Join Us <i
                                    class="fa fa-arrow-right ms-3"></i></a></h1>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Booking End -->





    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-light footer pt-5 mt-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container py-5">
            <div class="row g-5">


            </div>
        </div>
    </div>
    <!-- Footer End -->

    <script>
        function createServiceButtons(serviceData) {
            const serviceButtonsContainer = document.getElementById('serviceButtons');
            const serviceTabsContainer = document.getElementById('serviceTabs');

            // Iterate through the serviceData array and create buttons and content
            serviceData.forEach((service, index) => {
                // Convert varbinary data to base64
                const base64Image = arrayBufferToBase64(service.ServiceImage.data);

                // Create a button for each service
                const button = document.createElement('button');
                button.className = `nav-link w-100 d-flex align-items-center text-start p-4 mb-4 ${index === 0 ? 'active' : ''}`;
                button.setAttribute('data-bs-toggle', 'pill');
                button.setAttribute('data-bs-target', `#tab-pane-${index + 1}`);
                button.type = 'button';
                button.innerHTML = `
            <i class="fa ${service.icon} fa-2x me-3"></i>
            <h4 class="m-0">${service.ServiceTypeName}</h4>
          `;

                // Append the button to the container
                serviceButtonsContainer.appendChild(button);

                // Create content for each service
                const content = document.createElement('div');
                content.className = 'tab-pane fade';
                content.id = `tab-pane-${index + 1}`;
                if (index === 0) {
                    content.classList.add('show', 'active');
                }
                content.innerHTML = `
            <div class="row g-4">
              <div class="col-md-6" style="min-height: 350px;">
                <div class="position-relative h-100">
                  <img class="position-absolute img-fluid w-100 h-100" src="data:image/jpeg;base64,${base64Image}" style="object-fit: cover;" alt="">
                </div>
              </div>
              <div class="col-md-6">
                <h3 class="mb-3">${service.ServiceTypeName}</h3>
                <p class="mb-4">${service.ServiceDescription}</p>
               </div>
            </div>
          `;

                // Append the content to the container
                serviceTabsContainer.appendChild(content);
            });
        }
        function createTestimonialButtons(testimonialsData) {

            const testimonialContainer = document.getElementById("testimonialContainer");

            if (testimonialsData && testimonialsData.length > 0) {
                testimonialsData.forEach(testimonial => {
                    const testimonialItem = document.createElement("div");
                    testimonialItem.classList.add("testimonial-item", "text-center");

                    let base64Image = "testimonial-1.jpg"
                    console.log(testimonial.ClientImage)
                    if (testimonial.ClientImage && testimonial.ClientImage !== null) {
                        base64Image = "data:image/jpeg;base64," + arrayBufferToBase64Tes(testimonial.ClientImage.data);
                    }
                    const imageElement = document.createElement("img");
                    imageElement.classList.add("bg-light", "rounded-circle", "p-2", "mx-auto", "mb-3");
                    imageElement.src = base64Image;
                    imageElement.style.width = "80px";
                    imageElement.style.height = "80px";

                    const nameElement = document.createElement("h5");
                    nameElement.classList.add("mb-0");
                    nameElement.textContent = testimonial.name;

                    const starRatingElement = document.createElement("div");
                    starRatingElement.classList.add("star-rating");

                    for (let i = 1; i <= 5; i++) {
                        const starSpan = document.createElement("span");

                        // Check if i is less than or equal to testimonial.TestimonialRate
                        if (i <= testimonial.TestimonialRate) {
                            starSpan.classList.add("fa", "fa-star", "checked");
                        } else {
                            starSpan.classList.add("fa", "fa-star");
                        }

                        starRatingElement.appendChild(starSpan);
                    }

                    const testimonialTextElement = document.createElement("div");
                    testimonialTextElement.classList.add("testimonial-text", "bg-light", "text-center", "p-4");

                    const paragraphElement = document.createElement("p");
                    paragraphElement.classList.add("mb-0");
                    paragraphElement.textContent = testimonial.TestimonialReview;

                    testimonialItem.appendChild(imageElement);
                    testimonialItem.appendChild(nameElement);
                    testimonialItem.appendChild(starRatingElement);
                    testimonialTextElement.appendChild(paragraphElement);
                    testimonialItem.appendChild(testimonialTextElement);

                    testimonialContainer.appendChild(testimonialItem);
                });
            } else {
                document.getElementById('testimonial').style.display = 'none';
            }

        }

        // Function to convert ArrayBuffer to base64
        function arrayBufferToBase64Tes(buffer) {
            let binary = '';
            const bytes = new Uint8Array(buffer);
            for (let i = 0; i < bytes.length; i++) {
                binary += String.fromCharCode(bytes[i]);
            }
            return btoa(binary);
        }
        // Function to convert ArrayBuffer to base64
        function arrayBufferToBase64(buffer) {
            var binary = '';
            var bytes = new Uint8Array(buffer);
            var len = bytes.byteLength;
            for (var i = 0; i < len; i++) {
                binary += String.fromCharCode(bytes[i]);
            }
            return window.btoa(binary);
        }
        function fetchData() {
            fetch('http://localhost:5000/api/serviceType')
                .then(response => response.json())
                .then(serviceData => {
                    // Call function to dynamically create service buttons and content
                    createServiceButtons(serviceData);
                })
                .catch(error => {
                    console.error('Error fetching service data:', error);
                });

            fetch('http://localhost:5000/api/getTestimonial')
                .then(response => response.json())
                .then(serviceData => {
                    // Call function to dynamically create service buttons and content
                    createTestimonialButtons(serviceData);
                })
                .catch(error => {
                    console.error('Error fetching service data:', error);
                });
            if (localStorage.getItem("client-auth") && localStorage.getItem("client-user") && localStorage.getItem("client-token") && localStorage.getItem("client-userName")) {
                document.getElementById('login-register').style.visibility = 'hidden';
                document.getElementById('login-register').style.opacity = '0';
                document.getElementById('login-service').style.display = 'none';
                document.getElementById('book-service').style.display = 'block';
                document.getElementById('book').style.display = 'block';
                document.getElementById('profile-name').innerHTML = localStorage.getItem("client-userName")
                document.getElementById('profile').style.visibility = 'visible';
                document.getElementById('profile').style.opacity = '1';
            } else {
                document.getElementById('profile').style.visibility = 'hidden';
                document.getElementById('profile').style.opacity = '0'
                document.getElementById('book').style.display = 'none';

                document.getElementById('book-service').style.display = 'none';
                document.getElementById('login-service').style.display = 'block';
                document.getElementById('login-register').style.visibility = 'visible';
                document.getElementById('login-register').style.opacity = '1';
            }
        }
    </script>
    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>


    <script src="main.js"></script>
</body>

</html>